
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>implementations.controller_classes package &#8212; pySDC 4.2.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="implementations.datatype_classes package" href="implementations.datatype_classes.html" />
    <link rel="prev" title="implementations.collocation_classes package" href="implementations.collocation_classes.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="implementations.datatype_classes.html" title="implementations.datatype_classes package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="implementations.collocation_classes.html" title="implementations.collocation_classes package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pySDC 4.2.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="implementations.html" accesskey="U">implementations package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">implementations.controller_classes package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="implementations-controller-classes-package">
<h1>implementations.controller_classes package<a class="headerlink" href="#implementations-controller-classes-package" title="Permalink to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-implementations.controller_classes.controller_MPI">
<span id="implementations-controller-classes-controller-mpi-module"></span><h2>implementations.controller_classes.controller_MPI module<a class="headerlink" href="#module-implementations.controller_classes.controller_MPI" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">implementations.controller_classes.controller_MPI.</span></span><span class="sig-name descname"><span class="pre">controller_MPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">controller</span></code></p>
<p>PFASST controller, running parallel version of PFASST in blocks (MG-style)</p>
<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.check_iteration_estimate">
<span class="sig-name descname"><span class="pre">check_iteration_estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.check_iteration_estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.check_iteration_estimate" title="Permalink to this definition">¶</a></dt>
<dd><p>Routine to compute and check error/iteration estimation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>comm</strong> – time-communicator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.check_residual">
<span class="sig-name descname"><span class="pre">check_residual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.check_residual"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.check_residual" title="Permalink to this definition">¶</a></dt>
<dd><p>Routine to compute and check the residual</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>comm</strong> – time-communicator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Default routine to catch wrong status</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.it_check">
<span class="sig-name descname"><span class="pre">it_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.it_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.it_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Key routine to check for convergence/termination</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.it_coarse">
<span class="sig-name descname"><span class="pre">it_coarse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.it_coarse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.it_coarse" title="Permalink to this definition">¶</a></dt>
<dd><p>Coarse sweep</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.it_down">
<span class="sig-name descname"><span class="pre">it_down</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.it_down"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.it_down" title="Permalink to this definition">¶</a></dt>
<dd><p>Go down the hierarchy from finest to coarsest level</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.it_fine">
<span class="sig-name descname"><span class="pre">it_fine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.it_fine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.it_fine" title="Permalink to this definition">¶</a></dt>
<dd><p>Fine sweeps</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.it_up">
<span class="sig-name descname"><span class="pre">it_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.it_up"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.it_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Prolong corrections up to finest level (parallel)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.pfasst">
<span class="sig-name descname"><span class="pre">pfasst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.pfasst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.pfasst" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function including the stages of SDC, MLSDC and PFASST (the “controller”)</p>
<p>For the workflow of this controller, check out one of our PFASST talks or the pySDC paper</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> – communicator</p></li>
<li><p><strong>num_procs</strong> (<em>int</em>) – number of parallel processes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predictor phase</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.recv">
<span class="sig-name descname"><span class="pre">recv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.recv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – level which will receive the values</p></li>
<li><p><strong>source</strong> – level which initiated the send</p></li>
<li><p><strong>tag</strong> – identifier to check if this message is really for me</p></li>
<li><p><strong>comm</strong> – communicator</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.restart_block">
<span class="sig-name descname"><span class="pre">restart_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.restart_block"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.restart_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper routine to reset/restart block of (active) steps</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – number of active time steps</p></li>
<li><p><strong>time</strong> – current time</p></li>
<li><p><strong>u0</strong> – initial value to distribute across the steps</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>block of (all) steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">u0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Tend</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Main driver for running the parallel version of SDC, MSSDC, MLSDC and PFASST</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u0</strong> – initial values</p></li>
<li><p><strong>t0</strong> – starting time</p></li>
<li><p><strong>Tend</strong> – ending time</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>end values on the finest level
stats object containing statistics for each step, each level and each iteration</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.spread">
<span class="sig-name descname"><span class="pre">spread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.spread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.spread" title="Permalink to this definition">¶</a></dt>
<dd><p>Spreading phase</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_MPI.controller_MPI.wait_with_interrupt">
<span class="sig-name descname"><span class="pre">wait_with_interrupt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_MPI.html#controller_MPI.wait_with_interrupt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_MPI.controller_MPI.wait_with_interrupt" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for waiting for the completion of a non-blocking communication, can be interrupted</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – request to wait for</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-implementations.controller_classes.controller_nonMPI">
<span id="implementations-controller-classes-controller-nonmpi-module"></span><h2>implementations.controller_classes.controller_nonMPI module<a class="headerlink" href="#module-implementations.controller_classes.controller_nonMPI" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">implementations.controller_classes.controller_nonMPI.</span></span><span class="sig-name descname"><span class="pre">controller_nonMPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controller_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">controller</span></code></p>
<p>PFASST controller, running serialized version of PFASST in blocks (MG-style)</p>
<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.adaptivity">
<span class="sig-name descname"><span class="pre">adaptivity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MS</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.adaptivity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.adaptivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to compute time step size adaptively based on embedded error estimate</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.check_iteration_estimator">
<span class="sig-name descname"><span class="pre">check_iteration_estimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MS</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.check_iteration_estimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.check_iteration_estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to check the iteration estimator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>MS</strong> (<em>list</em>) – list of currently active steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Default routine to catch wrong status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_MS_running</strong> (<em>list</em>) – list of currently running steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.hotrod">
<span class="sig-name descname"><span class="pre">hotrod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.hotrod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.hotrod" title="Permalink to this definition">¶</a></dt>
<dd><p>See for the reference:
Lightweight and Accurate Silent Data Corruption Detection in Ordinary Differential Equation Solvers,
Guhur et al. 2016, Springer. DOI: 10.1007/978-3-319-43659-3_47</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_check">
<span class="sig-name descname"><span class="pre">it_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.it_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Key routine to check for convergence/termination</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_MS_running</strong> (<em>list</em>) – list of currently running steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_coarse">
<span class="sig-name descname"><span class="pre">it_coarse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.it_coarse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_coarse" title="Permalink to this definition">¶</a></dt>
<dd><p>Coarse sweep</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_MS_running</strong> (<em>list</em>) – list of currently running steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_down">
<span class="sig-name descname"><span class="pre">it_down</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.it_down"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_down" title="Permalink to this definition">¶</a></dt>
<dd><p>Go down the hierarchy from finest to coarsest level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_MS_running</strong> (<em>list</em>) – list of currently running steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_fine">
<span class="sig-name descname"><span class="pre">it_fine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.it_fine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_fine" title="Permalink to this definition">¶</a></dt>
<dd><p>Fine sweeps</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_MS_running</strong> (<em>list</em>) – list of currently running steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_up">
<span class="sig-name descname"><span class="pre">it_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.it_up"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.it_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Prolong corrections up to finest level (parallel)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_MS_running</strong> (<em>list</em>) – list of currently running steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.pfasst">
<span class="sig-name descname"><span class="pre">pfasst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_active</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.pfasst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.pfasst" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function including the stages of SDC, MLSDC and PFASST (the “controller”)</p>
<p>For the workflow of this controller, check out one of our PFASST talks or the pySDC paper</p>
<p>This method changes self.MS directly by accessing active steps through local_MS_active. Nothing is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_MS_active</strong> (<em>list</em>) – all active steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predictor phase</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_MS_running</strong> (<em>list</em>) – list of currently running steps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.recv">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.recv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – level which will receive the values</p></li>
<li><p><strong>source</strong> – level which initiated the send</p></li>
<li><p><strong>tag</strong> – identifier to check if this message is really for me</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.resilence">
<span class="sig-name descname"><span class="pre">resilence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.resilence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.resilence" title="Permalink to this definition">¶</a></dt>
<dd><p>Call various functions that are supposed to provide some sort of resilience from here</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.restart_block">
<span class="sig-name descname"><span class="pre">restart_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_slots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.restart_block"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.restart_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper routine to reset/restart block of (active) steps</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>active_slots</strong> – list of active steps</p></li>
<li><p><strong>time</strong> – list of new times</p></li>
<li><p><strong>u0</strong> – initial value to distribute across the steps</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">u0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Tend</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Main driver for running the serial version of SDC, MSSDC, MLSDC and PFASST (virtual parallelism)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u0</strong> – initial values</p></li>
<li><p><strong>t0</strong> – starting time</p></li>
<li><p><strong>Tend</strong> – ending time</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>end values on the finest level
stats object containing statistics for each step, each level and each iteration</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.send">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – level which has the new values</p></li>
<li><p><strong>tag</strong> – identifier for this message</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.controller_nonMPI.controller_nonMPI.spread">
<span class="sig-name descname"><span class="pre">spread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_MS_running</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/controller_nonMPI.html#controller_nonMPI.spread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.controller_nonMPI.controller_nonMPI.spread" title="Permalink to this definition">¶</a></dt>
<dd><p>Spreading phase</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_MS_running</strong> (<em>list</em>) – list of currently running steps</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-implementations.controller_classes.error_estimator">
<span id="implementations-controller-classes-error-estimator-module"></span><h2>implementations.controller_classes.error_estimator module<a class="headerlink" href="#module-implementations.controller_classes.error_estimator" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">implementations.controller_classes.error_estimator.</span></span><span class="sig-name descname"><span class="pre">ErrorEstimator_nonMPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/error_estimator.html#ErrorEstimator_nonMPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.embedded_estimate">
<span class="sig-name descname"><span class="pre">embedded_estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MS</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/error_estimator.html#ErrorEstimator_nonMPI.embedded_estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.embedded_estimate" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute embedded error estimate on the last node of each level</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.estimate">
<span class="sig-name descname"><span class="pre">estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MS</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/error_estimator.html#ErrorEstimator_nonMPI.estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.estimate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.extrapolation_estimate">
<span class="sig-name descname"><span class="pre">extrapolation_estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/error_estimator.html#ErrorEstimator_nonMPI.extrapolation_estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.extrapolation_estimate" title="Permalink to this definition">¶</a></dt>
<dd><p>The extrapolation estimate combines values of u and f from multiple steps to extrapolate and compare to the
solution obtained by the time marching scheme. As, in PinT, we might prefer to save memory by computing the
error only on the last step in a block for instance, we don’t automatically compute this error on all steps,
but only on the root step.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.get_extrapolation_coefficients">
<span class="sig-name descname"><span class="pre">get_extrapolation_coefficients</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/error_estimator.html#ErrorEstimator_nonMPI.get_extrapolation_coefficients"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.get_extrapolation_coefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>This function solves a linear system where in the matrix A, the row index reflects the order of the derivative
in the Taylor expansion and the column index reflects the particular step and whether its u or f from that
step. The vector b on the other hand, contains a 1 in the first entry and zeros elsewhere, since we want to
compute the value itself and all the derivatives should vanish after combining the Taylor expansions. This
works to the order the number of rows and since we want a square matrix for solving, we need the same amount of
colums, which determines the memory overhead, since it is equal to the solutions / rhs that we need in memory
at the time of evaluation.
This is enough to get the extrapolated solution, but if we want to compute the local error, we have to compute
a prefactor. This is based on error accumulation between steps (first step’s solution is exact plus 1 LTE,
second solution is exact plus 2 LTE and so on), which can be computed for adaptive step sizes as well, but its
wonky in time-parallel versions to say the least (it’s not cared for and hence wrong, but it might be wrong in
the same way as the embedded method and work for Hot Rod regardless…)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.setup_extrapolation">
<span class="sig-name descname"><span class="pre">setup_extrapolation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/error_estimator.html#ErrorEstimator_nonMPI.setup_extrapolation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.setup_extrapolation" title="Permalink to this definition">¶</a></dt>
<dd><p>The extrapolation based method requires storage of previous values of u, f, t and dt and also requires solving
a linear system of equations to compute the Taylor expansion finite difference style. Here, all variables are
initialized which are needed for this process.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.store_values">
<span class="sig-name descname"><span class="pre">store_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MS</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/controller_classes/error_estimator.html#ErrorEstimator_nonMPI.store_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.controller_classes.error_estimator.ErrorEstimator_nonMPI.store_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the required attributes of the step to do the extrapolation. We only care about the last collocation
node on the finest level at the moment.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-implementations.controller_classes">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-implementations.controller_classes" title="Permalink to this heading">¶</a></h2>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">implementations.controller_classes package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-implementations.controller_classes.controller_MPI">implementations.controller_classes.controller_MPI module</a></li>
<li><a class="reference internal" href="#module-implementations.controller_classes.controller_nonMPI">implementations.controller_classes.controller_nonMPI module</a></li>
<li><a class="reference internal" href="#module-implementations.controller_classes.error_estimator">implementations.controller_classes.error_estimator module</a></li>
<li><a class="reference internal" href="#module-implementations.controller_classes">Module contents</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="implementations.collocation_classes.html"
                          title="previous chapter">implementations.collocation_classes package</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="implementations.datatype_classes.html"
                          title="next chapter">implementations.datatype_classes package</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/pySDC/implementations.controller_classes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="implementations.datatype_classes.html" title="implementations.datatype_classes package"
             >next</a> |</li>
        <li class="right" >
          <a href="implementations.collocation_classes.html" title="implementations.collocation_classes package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pySDC 4.2.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="implementations.html" >implementations package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">implementations.controller_classes package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Robert Speck.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.0.
    </div>
  </body>
</html>